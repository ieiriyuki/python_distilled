# オブジェクト, 型, プロトコル

## 4.2 オブジェクトの同一性と型

- `id()` はオブジェクトの ID を返す
- `is` はオブジェクトの ID を比較する
- `type()` はオブジェクトの型を返す
- 部分型は継承によって定義される型

## 4.3 参照カウントとガベージコレクション

- オブジェクトの参照カウントは、それが新しい名前に割り当てられたり、リスト、タプル、辞書などのコンテナに格納されたりするたびに増加します
- オブジェクトの参照カウントは `del` で削除するか、参照がスコープ外に出た場合や再割り当てされた際に減少します
- オブジェクトの現在の参照カウントは `sys.getrefcount()` で取得します
- インタープリタがメモリリークすることはありませんが、オブジェクトの破棄は循環参照検出器が実行されて参照できないオブジェクトを見つけて削除するまで遅れます
- `gc.collect()` を使うとガベージコレクタをすぐに呼び出せます

## 4.6 第一球オブジェクト

オブジェクトが第一級であるとは、名前を割り当てられるオブジェクトはすべてデータとしても扱えることを意味する

## 4.9 オブジェクトプロトコル

特殊メソッド
- `__new__(cls, *)`: 新しいインスタンスを生成する際に呼ばれる静的メソッド, 目的があれば作る
- `__init__(self)`: 新しいインスタンスが作成された後に初期化で呼び出されるメソッド
- `__del__(self)`: インスタンスが破棄される際に呼び出されるメソッド, `del` で使われるというわけではない
- `__repr__(self)`: オブジェクトを表す文字列表現を生成するメソッド

## 4.10 数値プロトコル

たくさん

## 4.11 比較プロトコル

`__gt__` とか

`functools.total_ordering` を使えば, `__eq__()` と他の比較演算子のどれかがあれば, 残りを自動生成する

## 4.13 コンテナプロトコル

`m[1:10, 3:20]`: 多次元スライス
